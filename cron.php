<?php
  // This file is generated by Composer
  require_once 'vendor/autoload.php';

  // Load .env file
  Dotenv::load(__DIR__);

  // Store GitHub username to work with
  $githubUsername = 'frdmn';

  // Initiate API client
  $client = new \Github\Client();

  // Authenticate using API token in .env
  $client->authenticate(getenv('GITHUB_API_TOKEN'), null, Github\Client::AUTH_HTTP_TOKEN);

  // Fetch all repositories
  $paginator  = new Github\ResultPager($client);
  $repositories     = $paginator->fetchAll($client->api('user'), 'repositories', array($githubUsername));

  var_dump($repositories);
?>
